<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="keywords" content="倒计时,冷空气,广东,博客">
<meta name="description" content="倒计时,冷空气,广东,博客">
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta charset="utf-8">
<title>倒计时啦</title>
<link href="css/index.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="app">
  <div class="bus">
    <div class="windows"></div>
    <div class="lights"></div>
    <div class="street"></div>
  </div>
  <countdown></countdown>
</div>
<div class="right">
  <p>有倒计时提醒，妈妈再也用担心我没秋裤了!^_^嘻嘻</p>
  <p>喜欢吗？喜欢就打赏一块钱呗^_^</p>
  <a><img src="images/1yuan.jpg"></a>
  <p>剧情透露！</p>
  <p>网站即将上线，敬请期待……<a href="http://www.sevenliao.cn/" target="_blank">liao</a></p>
  <p>哪些需要我们，尽请微博告诉我们！<a href="https://weibo.com/u/2268319503/" target="_blank">（新浪微博：爱挑战的旺仔）</a></p>
</div>

<script src="js/vue.min.js"></script>
<!-- <script src="js/axios.min.js"></script> -->


<script>
/**************************
  COUNTDOWN COMPONENT
 **************************/
Vue.component('countdown', {
  template: `
  <section class="countdown">
    
    <div v-show="!expired" class="timer">
      <div class="box">
        <div class="spacer"></div>
        <p class="value">{{ theTime.days }}</p>
        <p class="label">days(天)</p>
      </div>
      <div class="box">
        <div class="spacer"></div>
        <p class="value">{{ theTime.hours }}</p>
        <p class="label">hours(小时)</p>
      </div>
      <div class="box">
        <div class="spacer"></div>
        <p class="value">{{ theTime.minutes }}</p>
        <p class="label">minutes(分钟)</p>
      </div>
      <div class="box">
        <div class="spacer"></div>
        <p class="value">{{ theTime.seconds }}</p>
        <p class="label">seconds(秒)</p>
      </div>
      <p class="text">冷空气要来广东啦！让我们倒计时吧^_^</p>
    </div>

    <div v-show="expired" class="expired-timer timer">
      <div class="box">
        <div class="spacer"></div>
        <p class="value">It's the great day</p>
        <p class="label">I'll have you in my arms</p>
      </div>
    </div>
   
  </section>
`,
  
 data() {
   return{
     deadline: '11 25, 2017 00:00:00',   //这里设置日期倒计时间
     days: 'Are',
     hours: 'you',
     minutes: 'ready',
     seconds: '？',
     expired: false 
   };
 },
  
 computed: {
   theTime(){
     var ctx = this,
         countDownDate = new Date(ctx.deadline).getTime();
         
     // Countdown loop    
     var x =  setInterval(function(){
       
       // Difference between the 2 dates
       var countDownDate = new Date(ctx.deadline).getTime(),
           now = new Date().getTime(),
           diff = countDownDate - now,

           // Time conversion to days, hours, minutes and seconds
           tdays = Math.floor(diff / (1000 * 60 * 60 * 24)),
           thours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),
           tminutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60)),
           tseconds = Math.floor((diff % (1000 * 60)) / 1000);
       
       // Keep 2 digits
       ctx.days = (tdays < 10) ? '0' + tdays : tdays;
       ctx.hours = (thours < 10) ? '0' + thours : thours;
       ctx.minutes = (tminutes < 10) ? '0' + tminutes : tminutes;
       ctx.seconds = (tseconds < 10) ? '0' + tseconds : tseconds;

       // Check for time expiration
       if(diff < 0){
         clearInterval(x);
         ctx.expired = true;
       }
     }, 1000);
     
     // Return data
     return {
       days: ctx.days,
       hours: ctx.hours,
       minutes: ctx.minutes,
       seconds: ctx.seconds
     };
   }
 }
});



/**************************
  ROOT COMPONENT
 **************************/
var app = new Vue({
  el: '#app'
});</script>

</body>
</html>
