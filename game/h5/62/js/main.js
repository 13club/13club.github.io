!function(){var e=getImageRes();function o(){Audio.play("ogg_background");var e=new DonkeyJump;e.setFPS(60),e.init();var o=e.ui;e.onstart=function(){my.KeyEvent.addListener()},e.onupdate=function(){my.KeyEvent.check("VK_LEFT")||my.KeyEvent.check("A")?e.keyDownLeft=!0:e.keyDownLeft=!1,my.KeyEvent.check("VK_RIGHT")||my.KeyEvent.check("D")?e.keyDownRight=!0:e.keyDownRight=!1},e.onstop=function(){my.KeyEvent.removeListener()},o.onplay=function(){this.toBody(),e.stateInit(),e.start()},o.onsoundopen=function(){Audio.mute=!1,Audio.play("ogg_background",!0)},o.onsoundclose=function(){Audio.mute=!0,Audio.pauseAll()},o.onpause=function(){e.pause(),o.panelResumeVisible(!0),o.btnPauseVisible(!1)},o.onresumeexit=function(){o.toCover(),o.panelResumeVisible(!1),Audio.play("ogg_background")},o.onresume=function(){o.panelResumeVisible(!1),o.btnPauseVisible(!0),e.start(),Audio.play("ogg_background",!0)},o.onshowcup=o.onshowcore=o.onshowmore=o.onshare=function(){alert("小Q博客小游戏平台\n游戏作者：<御剑神兵> 【sevenliao】")}}my.ImageManager.load(e,function(n){if(my.DOM.get("progressText").innerHTML="【正在加载图片...("+~~(n/e.length*100)+"%)",n<e.length)return!1;buzz.isOGGSupported()||buzz.isMP3Supported()?function(e){for(var n,t,u=getAudioRes(),i=u.length,s=[],a=0;a<i;a++)n=u[a],t=new buzz.sound(n.src,{formats:["wav","mp3"],preload:!0,autoload:!0,loop:!!n.loop}),s.push(t),Audio.list[n.id]=t;var r=new buzz.group(s),e=1;r.bind("loadeddata",function(n){my.DOM.get("progressText").innerHTML="【正在加载音乐...("+~~(e/i*100)+"%)",e>=i?(my.DOM.remove(my.DOM.get("progressText")),o()):e++})}():(my.DOM.remove(my.DOM.get("progressText")),o())})}();