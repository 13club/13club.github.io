!function(t){"use strict";function i(){this.board=new Board(this),this.score=new Score,this.timer=new Timer,this.leval=new Leval,this.nextshape=new NextShape,this.highscore=new HighScore,this._sound,this._state="playing",(new Keyboard).init(this.board)}i.prototype={constructor:i,_initAudio:function(){this._sound=new Howl({src:["audio/bg.wav"],loop:!0,volume:.3}),this._playSound()},_playSound:function(){t.TetrisConfig.config.enableSound&&this._sound.play()},_startTick(){var i=this;t.TetrisConfig.intervalId=t.setInterval(function(){i.board.tick()},TetrisConfig.speed)},_stopTick:function(){clearInterval(t.TetrisConfig.intervalId)},startGame:function(){this._initAudio(),this._startTick()},endGame:function(){this._sound.stop(),this._stopTick(),this._stopTick(),this.timer.stop()},pause:function(){"over"!==this._state&&(this._sound.pause(),this._state="pause",this._stopTick(),this.timer.pause())},resume:function(){"over"!==this._state&&(this._playSound(),this._state="playing",this._startTick(),this.timer.resume())}},t.Tetris=i}(window);